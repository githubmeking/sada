<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Canavar Avı Oyunu</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: #1a1a1a;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        #welcome {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2em;
            z-index: 1000;
        }

        .game-container {
            display: none;
            max-width: 800px;
            width: 100%;
        }

        .button-container {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .left-buttons, .right-buttons {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .center-button {
            align-self: center;
        }

        button {
            padding: 10px 20px;
            font-size: 1.2em;
            cursor: pointer;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            min-width: 150px;
        }

        button:hover {
            background: #45a049;
        }

        .modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #333;
            padding: 20px;
            border-radius: 10px;
            z-index: 100;
        }

        .modal button {
            margin: 5px;
            width: 100%;
        }

        .stats {
            margin-top: 20px;
            padding: 10px;
            background: #333;
            border-radius: 5px;
            text-align: center;
        }

        #coinDisplay {
            font-size: 1.5em;
            color: gold;
        }

        #battleArea {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background: #333;
            border-radius: 10px;
            text-align: center;
        }

        #monsterHealth {
            width: 100%;
            height: 30px;
            background: #555;
            border-radius: 5px;
            margin: 10px 0;
        }

        #healthBar {
            width: 100%;
            height: 100%;
            background: #ff4444;
            border-radius: 5px;
            transition: width 0.3s;
        }

        .battle-info {
            margin: 10px 0;
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <div id="welcome">
        Hoş Geldiniz!
    </div>

    <div class="game-container">
        <div class="stats">
            <div id="coinDisplay">Coin: 0</div>
            <div id="remainingRights">Kalan Hak: 3</div>
            <div id="timer" style="display: none">Yeni haklar için kalan süre: <span id="timeLeft"></span></div>
        </div>

        <div class="button-container">
            <div class="left-buttons">
                <button onclick="showModal('weaponModal')">Silah</button>
                <button onclick="showModal('ammoModal')">Mühimmat</button>
            </div>
            
            <button class="center-button" onclick="updateCoins(100)">Coin</button>
            
            <div class="right-buttons">
                <button onclick="showModal('monsterModal')">Canavar</button>
                <button onclick="showRights()">Kalan Hak</button>
            </div>
        </div>

        <div id="battleArea">
            <div class="battle-info">
                <div>Seçili Silah: <span id="currentWeapon">Yok</span></div>
                <div>Canavar Tipi: <span id="monsterType">Yok</span></div>
                <div>Canavar Canı: <span id="currentHealth">0</span> / <span id="maxHealth">0</span></div>
            </div>
            <div id="monsterHealth">
                <div id="healthBar"></div>
            </div>
            <button onclick="shoot()" id="shootButton">Ateş Et!</button>
        </div>

        <div id="weaponModal" class="modal">
            <button onclick="selectWeapon('Ağır Makineli', 50)">Ağır Makineli</button>
            <button onclick="selectWeapon('Pompalı', 5)">Pompalı</button>
            <button onclick="selectWeapon('Tabanca', 2)">Tabanca</button>
            <button onclick="selectWeapon('Tüfek', 20)">Tüfek</button>
            <button onclick="closeModal('weaponModal')">Kapat</button>
        </div>

        <div id="ammoModal" class="modal">
            <button onclick="selectAmmo('Tabanca Mermisi')">Tabanca Mermisi</button>
            <button onclick="selectAmmo('Tüfek Mermisi')">Tüfek Mermisi</button>
            <button onclick="selectAmmo('Ağır Silah Mermisi')">Ağır Silah Mermisi</button>
            <button onclick="closeModal('ammoModal')">Kapat</button>
        </div>

        <div id="monsterModal" class="modal">
            <button onclick="startFight('Kolay', 3000)">Kolay (Can: 3000)</button>
            <button onclick="startFight('Kolay-Orta', 9000)">Kolay-Orta (Can: 9000)</button>
            <button onclick="startFight('Orta', 27000)">Orta (Can: 27000)</button>
            <button onclick="startFight('Zor', 81000)">Zor (Can: 81000)</button>
            <button onclick="closeModal('monsterModal')">Kapat</button>
        </div>
    </div>

    <script>
        let coins = 0;
        let rights = 3;
        let cooldownActive = false;
        let selectedWeapon = null;
        let selectedAmmo = null;
        let weaponDamage = 0;
        let currentMonsterHealth = 0;
        let maxMonsterHealth = 0;
        let currentMonsterType = null;
        let activeBattle = false;

        // Hoş geldin ekranını 3 saniye sonra kaldır
        setTimeout(() => {
            document.getElementById('welcome').style.display = 'none';
            document.querySelector('.game-container').style.display = 'block';
        }, 3000);

        function showModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function selectWeapon(weapon, damage) {
            selectedWeapon = weapon;
            weaponDamage = damage;
            document.getElementById('currentWeapon').textContent = weapon;
            alert(`${weapon} seçildi! Her atışta ${damage} hasar verecek!`);
            closeModal('weaponModal');
        }

        function selectAmmo(ammo) {
            selectedAmmo = ammo;
            alert(`${ammo} seçildi!`);
            closeModal('ammoModal');
        }

        function updateCoins(amount) {
            coins += amount;
            document.getElementById('coinDisplay').textContent = `Coin: ${coins}`;
        }

        function showRights() {
            alert(`Kalan hak: ${rights}`);
        }

        function startCooldown() {
            cooldownActive = true;
            rights = 0;
            document.getElementById('remainingRights').textContent = `Kalan Hak: ${rights}`;
            document.getElementById('timer').style.display = 'block';
            
            let timeLeft = 3600; // 1 saat
            const timerInterval = setInterval(() => {
                timeLeft--;
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                document.getElementById('timeLeft').textContent = 
                    `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    cooldownActive = false;
                    rights = 3;
                    document.getElementById('remainingRights').textContent = `Kalan Hak: ${rights}`;
                    document.getElementById('timer').style.display = 'none';
                }
            }, 1000);
        }

        function startFight(difficulty, health) {
            if (cooldownActive) {
                alert('Yeni haklar için bekleme süresinin dolmasını bekleyin!');
                return;
            }

            if (rights <= 0) {
                startCooldown();
                alert('Günlük hakkınız bitti! 1 saat sonra tekrar deneyin.');
                return;
            }

            if (!selectedWeapon || !selectedAmmo) {
                alert('Lütfen önce silah ve mühimmat seçin!');
                return;
            }

            currentMonsterType = difficulty;
            currentMonsterHealth = health;
            maxMonsterHealth = health;
            document.getElementById('monsterType').textContent = difficulty;
            document.getElementById('currentHealth').textContent = health;
            document.getElementById('maxHealth').textContent = health;
            document.getElementById('healthBar').style.width = '100%';
            document.getElementById('battleArea').style.display = 'block';
            activeBattle = true;
            closeModal('monsterModal');

            updateHealthBar();
        }

        function shoot() {
            if (!activeBattle) {
                alert('Lütfen önce bir canavar seçin!');
                return;
            }

            currentMonsterHealth -= weaponDamage;
            if (currentMonsterHealth < 0) currentMonsterHealth = 0;
            
            document.getElementById('currentHealth').textContent = currentMonsterHealth;
            updateHealthBar();

            if (currentMonsterHealth <= 0) {
                const reward = Math.floor(maxMonsterHealth / 100);
                updateCoins(reward);
                alert(`Tebrikler! Canavarı yendiniz!\nKazanılan coin: ${reward}`);
                endBattle();
                rights--;
                document.getElementById('remainingRights').textContent = `Kalan Hak: ${rights}`;
                if (rights <= 0) {
                    startCooldown();
                }
            }
        }

        function updateHealthBar() {
            const percentage = (currentMonsterHealth / maxMonsterHealth) * 100;
            document.getElementById('healthBar').style.width = percentage + '%';
        }

        function endBattle() {
            activeBattle = false;
            document.getElementById('battleArea').style.display = 'none';
            currentMonsterHealth = 0;
            maxMonsterHealth = 0;
            currentMonsterType = null;
        }
    </script>
</body>
</html>
